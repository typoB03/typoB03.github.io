{"ast":null,"code":"import React,{useEffect}from\"react\";import*as THREE from\"three\";import{OrbitControls}from\"three/examples/jsm/controls/OrbitControls\";import{GLTFLoader}from\"three/addons/loaders/GLTFLoader.js\";import{createNoise3D}from\"simplex-noise\";import'./styles.css';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var DoubleCircle=function DoubleCircle(_ref){var musicSrc=_ref.musicSrc,visualColor=_ref.visualColor,secondColor=_ref.secondColor,coverImg=_ref.coverImg,isWireframe=_ref.isWireframe,setLoadMusic=_ref.setLoadMusic;var noise=createNoise3D();var audioSource;var analyser;var dataArray;var musicCube;var secondCube;useEffect(function(){//getting audio context\nif(!audioSource){var audio=document.getElementById(\"music-audio\");audio.src=musicSrc;audio.load();audio.play();var context=new AudioContext();audioSource=context.createMediaElementSource(audio);analyser=context.createAnalyser();audioSource.connect(analyser);analyser.connect(context.destination);analyser.fftSize=512;audioSource.connect(context.destination);var bufferLength=analyser.frequencyBinCount;dataArray=new Uint8Array(bufferLength);}var scene=new THREE.Scene();var camera=new THREE.PerspectiveCamera(50,window.innerWidth/window.innerHeight,1,1000);camera.position.z=96;var canvas=document.getElementById(\"three-bg-canvas\");var renderer=new THREE.WebGLRenderer({canvas:canvas,antialias:true});renderer.setSize(window.innerWidth,window.innerHeight);var container=document.getElementById(\"three-bg-container\");container.appendChild(renderer.domElement);//for loading GLB\n// var loader = new GLTFLoader();\n// loader.load(\"/glb/sui.glb\", function (gltf) {\n//     const albumModal = gltf.scene;\n//     albumModal.scale.set(0.1, 0.1, 0.1);\n//     albumModal.position.set(-20, -24, -18);\n//     scene.add(albumModal);\n// });\nvar loader=new THREE.TextureLoader();var texture=loader.load(coverImg);var albumGeometry=new THREE.BoxGeometry(20,20,1);// ensure correct aspect ratio\nvar albumMaterial=[new THREE.MeshBasicMaterial({color:\"gray\"//left\n}),new THREE.MeshBasicMaterial({color:\"gray\"//right\n}),new THREE.MeshBasicMaterial({color:\"gray\"// top\n}),new THREE.MeshBasicMaterial({color:\"gray\"// bottom\n}),new THREE.MeshBasicMaterial({map:texture// front\n}),new THREE.MeshBasicMaterial({color:\"gray\"//back\n})];var albumPlane=new THREE.Mesh(albumGeometry,albumMaterial);scene.add(albumPlane);var musicGeometry=new THREE.TorusGeometry(20,3,16,100);var musicMaterial=new THREE.MeshLambertMaterial({color:visualColor});musicCube=new THREE.Mesh(musicGeometry,musicMaterial);musicCube.position.set(0,0,0);scene.add(musicCube);var secondGeometry=new THREE.TorusGeometry(18,3,16,100);var secondMaterial=new THREE.MeshLambertMaterial({color:secondColor});secondCube=new THREE.Mesh(secondGeometry,secondMaterial);secondCube.position.set(0,0,0);scene.add(secondCube);var ambientLight=new THREE.AmbientLight(0xffffff,0.8);ambientLight.castShadow=true;scene.add(ambientLight);var controller=new OrbitControls(camera,renderer.domElement);var animate=function animate(){if(musicCube){analyser.getByteFrequencyData(dataArray);var lowerHalfArray=dataArray.slice(0,dataArray.length/2-1);var upperHalfArray=dataArray.slice(dataArray.length/2-1,dataArray.length-1);var lowerMax=max(lowerHalfArray);var upperAvg=avg(upperHalfArray);var lowerMaxFr=lowerMax/lowerHalfArray.length;var upperAvgFr=upperAvg/upperHalfArray.length;var modA=modulate(Math.pow(lowerMaxFr,0.8),0,1,0,5);var modB=modulate(upperAvgFr,0,1,0,4);makeRoughBall(musicCube,modA,modB);if(secondCube){makeSecondBall(secondCube,modA,modB);}}controller.update();renderer.render(scene,camera);window.requestAnimationFrame(animate);};animate();},[]);var makeRoughBall=function makeRoughBall(mesh,bassFr,treFr){var position=mesh.geometry.attributes.position;var vertex=new THREE.Vector3();for(var i=0,l=position.count;i<l;i++){vertex.fromBufferAttribute(position,i);vertex.applyMatrix4(mesh.matrixWorld);var offset=mesh.geometry.parameters.radius;var amp=2;var time=window.performance.now();vertex.normalize();var rf=0.00001;var distance=offset+bassFr+noise(vertex.x+time*rf*7,vertex.y+time*rf*8,vertex.z+time*rf*9)*amp*treFr;vertex.multiplyScalar(distance);position.setXYZ(i,vertex.x,vertex.y,vertex.z);position.needsUpdate=true;}mesh.rotation.x=treFr*0.005;mesh.rotation.y=treFr*0.005;mesh.geometry.verticesNeedUpdate=true;mesh.geometry.normalsNeedUpdate=true;mesh.updateMatrixWorld();};var makeSecondBall=function makeSecondBall(mesh,bassFr,treFr){var position=mesh.geometry.attributes.position;var vertex=new THREE.Vector3();for(var i=0,l=position.count;i<l;i++){vertex.fromBufferAttribute(position,i);vertex.applyMatrix4(mesh.matrixWorld);var offset=mesh.geometry.parameters.radius;var amp=2;var time=window.performance.now();vertex.normalize();var rf=0.00001;var distance=offset+bassFr+noise(vertex.x+time*rf*7,vertex.y+time*rf*8,vertex.z+time*rf*9)*amp*treFr;vertex.multiplyScalar(distance);position.setXYZ(i,vertex.x,vertex.y,vertex.z);position.needsUpdate=true;}mesh.rotation.x=-(treFr*0.005);mesh.rotation.y=treFr*0.005;mesh.geometry.verticesNeedUpdate=true;mesh.geometry.normalsNeedUpdate=true;mesh.updateMatrixWorld();};var fractionate=function fractionate(val,minVal,maxVal){return(val-minVal)/(maxVal-minVal);};var modulate=function modulate(val,minVal,maxVal,outMin,outMax){var fr=fractionate(val,minVal,maxVal);var delta=outMax-outMin;return outMin+fr*delta;};var avg=function avg(arr){var total=arr.reduce(function(sum,b){return sum+b;});return total/arr.length;};var max=function max(arr){return arr.reduce(function(a,b){return Math.max(a,b);});};return/*#__PURE__*/_jsxs(\"div\",{id:\"three-bg-container\",children:[/*#__PURE__*/_jsx(\"a\",{className:\"back-button\",onClick:function onClick(){return setLoadMusic(null);},children:\"BACK\"}),/*#__PURE__*/_jsx(\"canvas\",{id:\"three-bg-canvas\"}),/*#__PURE__*/_jsx(\"audio\",{id:\"music-audio\",controls:true,style:{position:\"absolute\",bottom:\"5px\",left:\"50%\",transform:\"translateX(-50%)\"}})]});};export default DoubleCircle;","map":{"version":3,"names":["React","useEffect","THREE","OrbitControls","GLTFLoader","createNoise3D","DoubleCircle","musicSrc","visualColor","secondColor","coverImg","isWireframe","setLoadMusic","noise","audioSource","analyser","dataArray","musicCube","secondCube","audio","document","getElementById","src","load","play","context","AudioContext","createMediaElementSource","createAnalyser","connect","destination","fftSize","bufferLength","frequencyBinCount","Uint8Array","scene","Scene","camera","PerspectiveCamera","window","innerWidth","innerHeight","position","z","canvas","renderer","WebGLRenderer","antialias","setSize","container","appendChild","domElement","loader","TextureLoader","texture","albumGeometry","BoxGeometry","albumMaterial","MeshBasicMaterial","color","map","albumPlane","Mesh","add","musicGeometry","TorusGeometry","musicMaterial","MeshLambertMaterial","set","secondGeometry","secondMaterial","ambientLight","AmbientLight","castShadow","controller","animate","getByteFrequencyData","lowerHalfArray","slice","length","upperHalfArray","lowerMax","max","upperAvg","avg","lowerMaxFr","upperAvgFr","modA","modulate","Math","pow","modB","makeRoughBall","makeSecondBall","update","render","requestAnimationFrame","mesh","bassFr","treFr","geometry","attributes","vertex","Vector3","i","l","count","fromBufferAttribute","applyMatrix4","matrixWorld","offset","parameters","radius","amp","time","performance","now","normalize","rf","distance","x","y","multiplyScalar","setXYZ","needsUpdate","rotation","verticesNeedUpdate","normalsNeedUpdate","updateMatrixWorld","fractionate","val","minVal","maxVal","outMin","outMax","fr","delta","arr","total","reduce","sum","b","a","bottom","left","transform"],"sources":["/Users/yuliangxue/Desktop/CodeTest/typoB03.github.io/src/DoubleCircle/index.jsx"],"sourcesContent":["import React, { useEffect } from \"react\";\nimport * as THREE from \"three\";\nimport { OrbitControls } from \"three/examples/jsm/controls/OrbitControls\";\nimport { GLTFLoader } from \"three/addons/loaders/GLTFLoader.js\";\nimport { createNoise3D } from \"simplex-noise\";\nimport './styles.css';\n\nconst DoubleCircle = ({ musicSrc, visualColor, secondColor, coverImg, isWireframe, setLoadMusic }) => {\n    const noise = createNoise3D();\n\n    let audioSource;\n    let analyser;\n    let dataArray;\n    let musicCube;\n    let secondCube;\n\n    useEffect(() => {\n        //getting audio context\n        if (!audioSource) {\n            const audio = document.getElementById(\"music-audio\");\n            audio.src = musicSrc;\n            audio.load();\n            audio.play();\n            const context = new AudioContext();\n            audioSource = context.createMediaElementSource(audio);\n            analyser = context.createAnalyser();\n            audioSource.connect(analyser);\n            analyser.connect(context.destination);\n            analyser.fftSize = 512;\n            audioSource.connect(context.destination);\n            const bufferLength = analyser.frequencyBinCount;\n            dataArray = new Uint8Array(bufferLength);\n        }\n\n        const scene = new THREE.Scene();\n        const camera = new THREE.PerspectiveCamera(\n            50,\n            window.innerWidth / window.innerHeight,\n            1,\n            1000\n        );\n        camera.position.z = 96;\n\n        const canvas = document.getElementById(\"three-bg-canvas\");\n\n        const renderer = new THREE.WebGLRenderer({\n            canvas,\n            antialias: true,\n        });\n\n        renderer.setSize(window.innerWidth, window.innerHeight);\n\n        const container = document.getElementById(\"three-bg-container\");\n\n        container.appendChild(renderer.domElement);\n\n        //for loading GLB\n        // var loader = new GLTFLoader();\n\n        // loader.load(\"/glb/sui.glb\", function (gltf) {\n        //     const albumModal = gltf.scene;\n        //     albumModal.scale.set(0.1, 0.1, 0.1);\n        //     albumModal.position.set(-20, -24, -18);\n        //     scene.add(albumModal);\n        // });\n\n        const loader = new THREE.TextureLoader();\n        const texture = loader.load(coverImg);\n\n        const albumGeometry = new THREE.BoxGeometry(20, 20, 1); // ensure correct aspect ratio\n        const albumMaterial = [\n            new THREE.MeshBasicMaterial({\n                color: \"gray\", //left\n            }),\n            new THREE.MeshBasicMaterial({\n                color: \"gray\", //right\n            }),\n            new THREE.MeshBasicMaterial({\n                color: \"gray\", // top\n            }),\n            new THREE.MeshBasicMaterial({\n                color: \"gray\", // bottom\n            }),\n            new THREE.MeshBasicMaterial({\n                map: texture, // front\n            }),\n            new THREE.MeshBasicMaterial({\n                color: \"gray\", //back\n            }),\n        ];\n\n        const albumPlane = new THREE.Mesh(albumGeometry, albumMaterial);\n        scene.add(albumPlane);\n\n        const musicGeometry = new THREE.TorusGeometry( 20, 3, 16, 100 );\n\n        const musicMaterial = new THREE.MeshLambertMaterial({\n            color: visualColor,\n        });\n\n        musicCube = new THREE.Mesh(musicGeometry, musicMaterial);\n        musicCube.position.set(0, 0, 0);\n        scene.add(musicCube);\n\n        const secondGeometry = new THREE.TorusGeometry( 18, 3, 16, 100 );\n\n        const secondMaterial = new THREE.MeshLambertMaterial({\n            color: secondColor,\n        });\n        secondCube = new THREE.Mesh(secondGeometry, secondMaterial);\n        secondCube.position.set(0, 0, 0);\n\n        scene.add(secondCube);\n\n        const ambientLight = new THREE.AmbientLight(0xffffff, 0.8);\n        ambientLight.castShadow = true;\n        scene.add(ambientLight);\n\n        const controller = new OrbitControls(camera, renderer.domElement);\n\n        const animate = () => {\n            if (musicCube) {\n                analyser.getByteFrequencyData(dataArray);\n\n                var lowerHalfArray = dataArray.slice(\n                    0,\n                    dataArray.length / 2 - 1\n                );\n                var upperHalfArray = dataArray.slice(\n                    dataArray.length / 2 - 1,\n                    dataArray.length - 1\n                );\n\n                var lowerMax = max(lowerHalfArray);\n                var upperAvg = avg(upperHalfArray);\n\n                var lowerMaxFr = lowerMax / lowerHalfArray.length;\n                var upperAvgFr = upperAvg / upperHalfArray.length;\n\n                const modA = modulate(Math.pow(lowerMaxFr, 0.8), 0, 1, 0, 5);\n                const modB = modulate(upperAvgFr, 0, 1, 0, 4);\n\n                makeRoughBall(musicCube, modA, modB);\n                if (secondCube) {\n                    makeSecondBall(secondCube, modA, modB);\n                }\n            }\n\n            controller.update();\n            renderer.render(scene, camera);\n            window.requestAnimationFrame(animate);\n        };\n        animate();\n    }, []);\n\n    const makeRoughBall = (mesh, bassFr, treFr) => {\n        let position = mesh.geometry.attributes.position;\n        const vertex = new THREE.Vector3();\n\n        for (let i = 0, l = position.count; i < l; i++) {\n            vertex.fromBufferAttribute(position, i);\n            vertex.applyMatrix4(mesh.matrixWorld);\n            var offset = mesh.geometry.parameters.radius;\n            var amp = 2;\n            var time = window.performance.now();\n            vertex.normalize();\n            var rf = 0.00001;\n            var distance =\n                offset +\n                bassFr +\n                noise(\n                    vertex.x + time * rf * 7,\n                    vertex.y + time * rf * 8,\n                    vertex.z + time * rf * 9\n                ) *\n                    amp *\n                    treFr;\n            vertex.multiplyScalar(distance);\n            position.setXYZ(i, vertex.x, vertex.y, vertex.z);\n            position.needsUpdate = true;\n        }\n\n        mesh.rotation.x = treFr * 0.005;\n        mesh.rotation.y = treFr * 0.005;\n\n        mesh.geometry.verticesNeedUpdate = true;\n        mesh.geometry.normalsNeedUpdate = true;\n        mesh.updateMatrixWorld();\n    };\n\n    const makeSecondBall = (mesh, bassFr, treFr) => {\n        let position = mesh.geometry.attributes.position;\n        const vertex = new THREE.Vector3();\n\n        for (let i = 0, l = position.count; i < l; i++) {\n            vertex.fromBufferAttribute(position, i);\n            vertex.applyMatrix4(mesh.matrixWorld);\n            var offset = mesh.geometry.parameters.radius;\n            var amp = 2;\n            var time = window.performance.now();\n            vertex.normalize();\n            var rf = 0.00001;\n            var distance =\n                offset +\n                bassFr +\n                noise(\n                    vertex.x + time * rf * 7,\n                    vertex.y + time * rf * 8,\n                    vertex.z + time * rf * 9\n                ) *\n                    amp *\n                    treFr;\n            vertex.multiplyScalar(distance);\n            position.setXYZ(i, vertex.x, vertex.y, vertex.z);\n            position.needsUpdate = true;\n        }\n\n        mesh.rotation.x = -(treFr * 0.005);\n        mesh.rotation.y = treFr * 0.005;\n\n        mesh.geometry.verticesNeedUpdate = true;\n        mesh.geometry.normalsNeedUpdate = true;\n        mesh.updateMatrixWorld();\n    };\n\n    const fractionate = (val, minVal, maxVal) => {\n        return (val - minVal) / (maxVal - minVal);\n    };\n\n    const modulate = (val, minVal, maxVal, outMin, outMax) => {\n        var fr = fractionate(val, minVal, maxVal);\n        var delta = outMax - outMin;\n        return outMin + fr * delta;\n    };\n\n    const avg = (arr) => {\n        var total = arr.reduce(function (sum, b) {\n            return sum + b;\n        });\n        return total / arr.length;\n    };\n\n    const max = (arr) => {\n        return arr.reduce(function (a, b) {\n            return Math.max(a, b);\n        });\n    };\n\n    return (\n        <div id=\"three-bg-container\">\n            <a className=\"back-button\" onClick={()=>setLoadMusic(null)}>\n                BACK\n            </a>\n            <canvas id=\"three-bg-canvas\" />\n            <audio\n                id=\"music-audio\"\n                controls\n                style={{\n                    position: \"absolute\",\n                    bottom: \"5px\",\n                    left: \"50%\",\n                    transform: \"translateX(-50%)\",\n                }}\n            />\n        </div>\n    );\n};\n\nexport default DoubleCircle;\n"],"mappings":"AAAA,MAAOA,MAAK,EAAIC,SAAS,KAAQ,OAAO,CACxC,MAAO,GAAKC,MAAK,KAAM,OAAO,CAC9B,OAASC,aAAa,KAAQ,2CAA2C,CACzE,OAASC,UAAU,KAAQ,oCAAoC,CAC/D,OAASC,aAAa,KAAQ,eAAe,CAC7C,MAAO,cAAc,CAAC,wFAEtB,GAAMC,aAAY,CAAG,QAAfA,aAAY,MAAoF,IAA9EC,SAAQ,MAARA,QAAQ,CAAEC,WAAW,MAAXA,WAAW,CAAEC,WAAW,MAAXA,WAAW,CAAEC,QAAQ,MAARA,QAAQ,CAAEC,WAAW,MAAXA,WAAW,CAAEC,YAAY,MAAZA,YAAY,CAC3F,GAAMC,MAAK,CAAGR,aAAa,EAAE,CAE7B,GAAIS,YAAW,CACf,GAAIC,SAAQ,CACZ,GAAIC,UAAS,CACb,GAAIC,UAAS,CACb,GAAIC,WAAU,CAEdjB,SAAS,CAAC,UAAM,CACZ;AACA,GAAI,CAACa,WAAW,CAAE,CACd,GAAMK,MAAK,CAAGC,QAAQ,CAACC,cAAc,CAAC,aAAa,CAAC,CACpDF,KAAK,CAACG,GAAG,CAAGf,QAAQ,CACpBY,KAAK,CAACI,IAAI,EAAE,CACZJ,KAAK,CAACK,IAAI,EAAE,CACZ,GAAMC,QAAO,CAAG,GAAIC,aAAY,EAAE,CAClCZ,WAAW,CAAGW,OAAO,CAACE,wBAAwB,CAACR,KAAK,CAAC,CACrDJ,QAAQ,CAAGU,OAAO,CAACG,cAAc,EAAE,CACnCd,WAAW,CAACe,OAAO,CAACd,QAAQ,CAAC,CAC7BA,QAAQ,CAACc,OAAO,CAACJ,OAAO,CAACK,WAAW,CAAC,CACrCf,QAAQ,CAACgB,OAAO,CAAG,GAAG,CACtBjB,WAAW,CAACe,OAAO,CAACJ,OAAO,CAACK,WAAW,CAAC,CACxC,GAAME,aAAY,CAAGjB,QAAQ,CAACkB,iBAAiB,CAC/CjB,SAAS,CAAG,GAAIkB,WAAU,CAACF,YAAY,CAAC,CAC5C,CAEA,GAAMG,MAAK,CAAG,GAAIjC,MAAK,CAACkC,KAAK,EAAE,CAC/B,GAAMC,OAAM,CAAG,GAAInC,MAAK,CAACoC,iBAAiB,CACtC,EAAE,CACFC,MAAM,CAACC,UAAU,CAAGD,MAAM,CAACE,WAAW,CACtC,CAAC,CACD,IAAI,CACP,CACDJ,MAAM,CAACK,QAAQ,CAACC,CAAC,CAAG,EAAE,CAEtB,GAAMC,OAAM,CAAGxB,QAAQ,CAACC,cAAc,CAAC,iBAAiB,CAAC,CAEzD,GAAMwB,SAAQ,CAAG,GAAI3C,MAAK,CAAC4C,aAAa,CAAC,CACrCF,MAAM,CAANA,MAAM,CACNG,SAAS,CAAE,IACf,CAAC,CAAC,CAEFF,QAAQ,CAACG,OAAO,CAACT,MAAM,CAACC,UAAU,CAAED,MAAM,CAACE,WAAW,CAAC,CAEvD,GAAMQ,UAAS,CAAG7B,QAAQ,CAACC,cAAc,CAAC,oBAAoB,CAAC,CAE/D4B,SAAS,CAACC,WAAW,CAACL,QAAQ,CAACM,UAAU,CAAC,CAE1C;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AAEA,GAAMC,OAAM,CAAG,GAAIlD,MAAK,CAACmD,aAAa,EAAE,CACxC,GAAMC,QAAO,CAAGF,MAAM,CAAC7B,IAAI,CAACb,QAAQ,CAAC,CAErC,GAAM6C,cAAa,CAAG,GAAIrD,MAAK,CAACsD,WAAW,CAAC,EAAE,CAAE,EAAE,CAAE,CAAC,CAAC,CAAE;AACxD,GAAMC,cAAa,CAAG,CAClB,GAAIvD,MAAK,CAACwD,iBAAiB,CAAC,CACxBC,KAAK,CAAE,MAAQ;AACnB,CAAC,CAAC,CACF,GAAIzD,MAAK,CAACwD,iBAAiB,CAAC,CACxBC,KAAK,CAAE,MAAQ;AACnB,CAAC,CAAC,CACF,GAAIzD,MAAK,CAACwD,iBAAiB,CAAC,CACxBC,KAAK,CAAE,MAAQ;AACnB,CAAC,CAAC,CACF,GAAIzD,MAAK,CAACwD,iBAAiB,CAAC,CACxBC,KAAK,CAAE,MAAQ;AACnB,CAAC,CAAC,CACF,GAAIzD,MAAK,CAACwD,iBAAiB,CAAC,CACxBE,GAAG,CAAEN,OAAS;AAClB,CAAC,CAAC,CACF,GAAIpD,MAAK,CAACwD,iBAAiB,CAAC,CACxBC,KAAK,CAAE,MAAQ;AACnB,CAAC,CAAC,CACL,CAED,GAAME,WAAU,CAAG,GAAI3D,MAAK,CAAC4D,IAAI,CAACP,aAAa,CAAEE,aAAa,CAAC,CAC/DtB,KAAK,CAAC4B,GAAG,CAACF,UAAU,CAAC,CAErB,GAAMG,cAAa,CAAG,GAAI9D,MAAK,CAAC+D,aAAa,CAAE,EAAE,CAAE,CAAC,CAAE,EAAE,CAAE,GAAG,CAAE,CAE/D,GAAMC,cAAa,CAAG,GAAIhE,MAAK,CAACiE,mBAAmB,CAAC,CAChDR,KAAK,CAAEnD,WACX,CAAC,CAAC,CAEFS,SAAS,CAAG,GAAIf,MAAK,CAAC4D,IAAI,CAACE,aAAa,CAAEE,aAAa,CAAC,CACxDjD,SAAS,CAACyB,QAAQ,CAAC0B,GAAG,CAAC,CAAC,CAAE,CAAC,CAAE,CAAC,CAAC,CAC/BjC,KAAK,CAAC4B,GAAG,CAAC9C,SAAS,CAAC,CAEpB,GAAMoD,eAAc,CAAG,GAAInE,MAAK,CAAC+D,aAAa,CAAE,EAAE,CAAE,CAAC,CAAE,EAAE,CAAE,GAAG,CAAE,CAEhE,GAAMK,eAAc,CAAG,GAAIpE,MAAK,CAACiE,mBAAmB,CAAC,CACjDR,KAAK,CAAElD,WACX,CAAC,CAAC,CACFS,UAAU,CAAG,GAAIhB,MAAK,CAAC4D,IAAI,CAACO,cAAc,CAAEC,cAAc,CAAC,CAC3DpD,UAAU,CAACwB,QAAQ,CAAC0B,GAAG,CAAC,CAAC,CAAE,CAAC,CAAE,CAAC,CAAC,CAEhCjC,KAAK,CAAC4B,GAAG,CAAC7C,UAAU,CAAC,CAErB,GAAMqD,aAAY,CAAG,GAAIrE,MAAK,CAACsE,YAAY,CAAC,QAAQ,CAAE,GAAG,CAAC,CAC1DD,YAAY,CAACE,UAAU,CAAG,IAAI,CAC9BtC,KAAK,CAAC4B,GAAG,CAACQ,YAAY,CAAC,CAEvB,GAAMG,WAAU,CAAG,GAAIvE,cAAa,CAACkC,MAAM,CAAEQ,QAAQ,CAACM,UAAU,CAAC,CAEjE,GAAMwB,QAAO,CAAG,QAAVA,QAAO,EAAS,CAClB,GAAI1D,SAAS,CAAE,CACXF,QAAQ,CAAC6D,oBAAoB,CAAC5D,SAAS,CAAC,CAExC,GAAI6D,eAAc,CAAG7D,SAAS,CAAC8D,KAAK,CAChC,CAAC,CACD9D,SAAS,CAAC+D,MAAM,CAAG,CAAC,CAAG,CAAC,CAC3B,CACD,GAAIC,eAAc,CAAGhE,SAAS,CAAC8D,KAAK,CAChC9D,SAAS,CAAC+D,MAAM,CAAG,CAAC,CAAG,CAAC,CACxB/D,SAAS,CAAC+D,MAAM,CAAG,CAAC,CACvB,CAED,GAAIE,SAAQ,CAAGC,GAAG,CAACL,cAAc,CAAC,CAClC,GAAIM,SAAQ,CAAGC,GAAG,CAACJ,cAAc,CAAC,CAElC,GAAIK,WAAU,CAAGJ,QAAQ,CAAGJ,cAAc,CAACE,MAAM,CACjD,GAAIO,WAAU,CAAGH,QAAQ,CAAGH,cAAc,CAACD,MAAM,CAEjD,GAAMQ,KAAI,CAAGC,QAAQ,CAACC,IAAI,CAACC,GAAG,CAACL,UAAU,CAAE,GAAG,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAC,CAC5D,GAAMM,KAAI,CAAGH,QAAQ,CAACF,UAAU,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAC,CAE7CM,aAAa,CAAC3E,SAAS,CAAEsE,IAAI,CAAEI,IAAI,CAAC,CACpC,GAAIzE,UAAU,CAAE,CACZ2E,cAAc,CAAC3E,UAAU,CAAEqE,IAAI,CAAEI,IAAI,CAAC,CAC1C,CACJ,CAEAjB,UAAU,CAACoB,MAAM,EAAE,CACnBjD,QAAQ,CAACkD,MAAM,CAAC5D,KAAK,CAAEE,MAAM,CAAC,CAC9BE,MAAM,CAACyD,qBAAqB,CAACrB,OAAO,CAAC,CACzC,CAAC,CACDA,OAAO,EAAE,CACb,CAAC,CAAE,EAAE,CAAC,CAEN,GAAMiB,cAAa,CAAG,QAAhBA,cAAa,CAAIK,IAAI,CAAEC,MAAM,CAAEC,KAAK,CAAK,CAC3C,GAAIzD,SAAQ,CAAGuD,IAAI,CAACG,QAAQ,CAACC,UAAU,CAAC3D,QAAQ,CAChD,GAAM4D,OAAM,CAAG,GAAIpG,MAAK,CAACqG,OAAO,EAAE,CAElC,IAAK,GAAIC,EAAC,CAAG,CAAC,CAAEC,CAAC,CAAG/D,QAAQ,CAACgE,KAAK,CAAEF,CAAC,CAAGC,CAAC,CAAED,CAAC,EAAE,CAAE,CAC5CF,MAAM,CAACK,mBAAmB,CAACjE,QAAQ,CAAE8D,CAAC,CAAC,CACvCF,MAAM,CAACM,YAAY,CAACX,IAAI,CAACY,WAAW,CAAC,CACrC,GAAIC,OAAM,CAAGb,IAAI,CAACG,QAAQ,CAACW,UAAU,CAACC,MAAM,CAC5C,GAAIC,IAAG,CAAG,CAAC,CACX,GAAIC,KAAI,CAAG3E,MAAM,CAAC4E,WAAW,CAACC,GAAG,EAAE,CACnCd,MAAM,CAACe,SAAS,EAAE,CAClB,GAAIC,GAAE,CAAG,OAAO,CAChB,GAAIC,SAAQ,CACRT,MAAM,CACNZ,MAAM,CACNrF,KAAK,CACDyF,MAAM,CAACkB,CAAC,CAAGN,IAAI,CAAGI,EAAE,CAAG,CAAC,CACxBhB,MAAM,CAACmB,CAAC,CAAGP,IAAI,CAAGI,EAAE,CAAG,CAAC,CACxBhB,MAAM,CAAC3D,CAAC,CAAGuE,IAAI,CAAGI,EAAE,CAAG,CAAC,CAC3B,CACGL,GAAG,CACHd,KAAK,CACbG,MAAM,CAACoB,cAAc,CAACH,QAAQ,CAAC,CAC/B7E,QAAQ,CAACiF,MAAM,CAACnB,CAAC,CAAEF,MAAM,CAACkB,CAAC,CAAElB,MAAM,CAACmB,CAAC,CAAEnB,MAAM,CAAC3D,CAAC,CAAC,CAChDD,QAAQ,CAACkF,WAAW,CAAG,IAAI,CAC/B,CAEA3B,IAAI,CAAC4B,QAAQ,CAACL,CAAC,CAAGrB,KAAK,CAAG,KAAK,CAC/BF,IAAI,CAAC4B,QAAQ,CAACJ,CAAC,CAAGtB,KAAK,CAAG,KAAK,CAE/BF,IAAI,CAACG,QAAQ,CAAC0B,kBAAkB,CAAG,IAAI,CACvC7B,IAAI,CAACG,QAAQ,CAAC2B,iBAAiB,CAAG,IAAI,CACtC9B,IAAI,CAAC+B,iBAAiB,EAAE,CAC5B,CAAC,CAED,GAAMnC,eAAc,CAAG,QAAjBA,eAAc,CAAII,IAAI,CAAEC,MAAM,CAAEC,KAAK,CAAK,CAC5C,GAAIzD,SAAQ,CAAGuD,IAAI,CAACG,QAAQ,CAACC,UAAU,CAAC3D,QAAQ,CAChD,GAAM4D,OAAM,CAAG,GAAIpG,MAAK,CAACqG,OAAO,EAAE,CAElC,IAAK,GAAIC,EAAC,CAAG,CAAC,CAAEC,CAAC,CAAG/D,QAAQ,CAACgE,KAAK,CAAEF,CAAC,CAAGC,CAAC,CAAED,CAAC,EAAE,CAAE,CAC5CF,MAAM,CAACK,mBAAmB,CAACjE,QAAQ,CAAE8D,CAAC,CAAC,CACvCF,MAAM,CAACM,YAAY,CAACX,IAAI,CAACY,WAAW,CAAC,CACrC,GAAIC,OAAM,CAAGb,IAAI,CAACG,QAAQ,CAACW,UAAU,CAACC,MAAM,CAC5C,GAAIC,IAAG,CAAG,CAAC,CACX,GAAIC,KAAI,CAAG3E,MAAM,CAAC4E,WAAW,CAACC,GAAG,EAAE,CACnCd,MAAM,CAACe,SAAS,EAAE,CAClB,GAAIC,GAAE,CAAG,OAAO,CAChB,GAAIC,SAAQ,CACRT,MAAM,CACNZ,MAAM,CACNrF,KAAK,CACDyF,MAAM,CAACkB,CAAC,CAAGN,IAAI,CAAGI,EAAE,CAAG,CAAC,CACxBhB,MAAM,CAACmB,CAAC,CAAGP,IAAI,CAAGI,EAAE,CAAG,CAAC,CACxBhB,MAAM,CAAC3D,CAAC,CAAGuE,IAAI,CAAGI,EAAE,CAAG,CAAC,CAC3B,CACGL,GAAG,CACHd,KAAK,CACbG,MAAM,CAACoB,cAAc,CAACH,QAAQ,CAAC,CAC/B7E,QAAQ,CAACiF,MAAM,CAACnB,CAAC,CAAEF,MAAM,CAACkB,CAAC,CAAElB,MAAM,CAACmB,CAAC,CAAEnB,MAAM,CAAC3D,CAAC,CAAC,CAChDD,QAAQ,CAACkF,WAAW,CAAG,IAAI,CAC/B,CAEA3B,IAAI,CAAC4B,QAAQ,CAACL,CAAC,CAAG,EAAErB,KAAK,CAAG,KAAK,CAAC,CAClCF,IAAI,CAAC4B,QAAQ,CAACJ,CAAC,CAAGtB,KAAK,CAAG,KAAK,CAE/BF,IAAI,CAACG,QAAQ,CAAC0B,kBAAkB,CAAG,IAAI,CACvC7B,IAAI,CAACG,QAAQ,CAAC2B,iBAAiB,CAAG,IAAI,CACtC9B,IAAI,CAAC+B,iBAAiB,EAAE,CAC5B,CAAC,CAED,GAAMC,YAAW,CAAG,QAAdA,YAAW,CAAIC,GAAG,CAAEC,MAAM,CAAEC,MAAM,CAAK,CACzC,MAAO,CAACF,GAAG,CAAGC,MAAM,GAAKC,MAAM,CAAGD,MAAM,CAAC,CAC7C,CAAC,CAED,GAAM3C,SAAQ,CAAG,QAAXA,SAAQ,CAAI0C,GAAG,CAAEC,MAAM,CAAEC,MAAM,CAAEC,MAAM,CAAEC,MAAM,CAAK,CACtD,GAAIC,GAAE,CAAGN,WAAW,CAACC,GAAG,CAAEC,MAAM,CAAEC,MAAM,CAAC,CACzC,GAAII,MAAK,CAAGF,MAAM,CAAGD,MAAM,CAC3B,MAAOA,OAAM,CAAGE,EAAE,CAAGC,KAAK,CAC9B,CAAC,CAED,GAAMpD,IAAG,CAAG,QAANA,IAAG,CAAIqD,GAAG,CAAK,CACjB,GAAIC,MAAK,CAAGD,GAAG,CAACE,MAAM,CAAC,SAAUC,GAAG,CAAEC,CAAC,CAAE,CACrC,MAAOD,IAAG,CAAGC,CAAC,CAClB,CAAC,CAAC,CACF,MAAOH,MAAK,CAAGD,GAAG,CAAC1D,MAAM,CAC7B,CAAC,CAED,GAAMG,IAAG,CAAG,QAANA,IAAG,CAAIuD,GAAG,CAAK,CACjB,MAAOA,IAAG,CAACE,MAAM,CAAC,SAAUG,CAAC,CAAED,CAAC,CAAE,CAC9B,MAAOpD,KAAI,CAACP,GAAG,CAAC4D,CAAC,CAAED,CAAC,CAAC,CACzB,CAAC,CAAC,CACN,CAAC,CAED,mBACI,aAAK,EAAE,CAAC,oBAAoB,wBACxB,UAAG,SAAS,CAAC,aAAa,CAAC,OAAO,CAAE,yBAAIjI,aAAY,CAAC,IAAI,CAAC,EAAC,UAAC,MAE5D,EAAI,cACJ,eAAQ,EAAE,CAAC,iBAAiB,EAAG,cAC/B,cACI,EAAE,CAAC,aAAa,CAChB,QAAQ,MACR,KAAK,CAAE,CACH8B,QAAQ,CAAE,UAAU,CACpBqG,MAAM,CAAE,KAAK,CACbC,IAAI,CAAE,KAAK,CACXC,SAAS,CAAE,kBACf,CAAE,EACJ,GACA,CAEd,CAAC,CAED,cAAe3I,aAAY"},"metadata":{},"sourceType":"module","externalDependencies":[]}